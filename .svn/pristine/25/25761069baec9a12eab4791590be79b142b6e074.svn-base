# 🌳 智能决策树构建器使用指南

## 1. 工具简介
本工具用于基于 CSV 数据**自动训练分类决策树**，并通过可视化方式展示：
- 每个节点的样本数量与类别分布
- 分支条件（阈值/类别）
- 单条或多条数据的预测路径高亮与推理日志

适合用于：快速理解数据分裂逻辑、验证特征影响、课堂/演示讲解决策过程。

---

## 2. 核心操作

### 🟢 1. 导入 CSV
- 点击顶部 `导入CSV`，选择训练数据文件（首行必须是表头）。
- 导入后会自动读取列名，并在右侧提供 `预测目标(Target)` 选择（默认最后一列）。

### 🌲 2. 生成决策树（自动）
- 选择 `预测目标(Target)`。
- 可勾选 `自动过滤ID列`：会尽量排除 ID/高基数列，避免树过拟合或难以解释。
- 点击 `生成决策树` 后系统会自动训练并渲染树：
  - **椭圆节点**：内部节点显示特征列名；叶子节点显示最终分类结果
  - **节点信息**：样本总数 + 各类别分布（数量/概率）
  - **连线标签**：分支条件（例如 `<= 2.50`、`> 2.50`、`= 晴`）

> 当前版本的树由数据自动生成，不提供手动编辑节点/分支条件，以保证可视化、预测与训练结果一致。

### 🔮 3. 单条预测（预测演示）
- 在 `预测演示` 中填写/选择特征值，点击 `开始预测`：
  - 画布会高亮该样本的判断路径
  - 预测日志会输出每一步判断，并显示概率提示：
    - `P(结果=...)`：在当前节点训练样本中，最终预测类别的占比
    - `分支占比`：进入该分支的样本占比（`子节点样本数 / 父节点样本数`）

### 📋 4. CSV 多条预测（点击数据行高亮）
- 在 `CSV 数据列表` 中点击任意一条记录：
  - 自动用该行数据执行预测并高亮路径
  - 同步填充 `预测演示` 的输入框，便于对照修改
  - 日志同样显示每步判断 + 概率
- 列表默认展示前 200 条，可点击“显示全部”展开

### 🧪 5. 批量分析
- 点击顶部 `运行分析`：
  - 对导入 CSV 的每一行进行推理
  - `分析结果` 中会展示每条数据的最终结果与推理路径（用于快速验证整体效果）

---

## 3. 常见技巧
- 漫游与缩放：`滚轮` 缩放，`拖拽` 移动画布；`悬停` 节点/分支可查看提示信息
- 特征为空：若提示“可用特征列为空”，可取消 `自动过滤ID列` 或更换 `Target`
- 需要先生成决策树：如果提示“请先生成决策树”，先完成 `导入CSV` → `生成决策树`
